import{a as oe}from"./chunk-QYYEOJ6R.js";import{a as re}from"./chunk-7QUEWTHG.js";import{a as ne}from"./chunk-2YBQOG5B.js";import{b as Z,c as K,f as ee,h as te,t as ie}from"./chunk-N72T7JVJ.js";import"./chunk-6HUQKW6B.js";import{f as Y,h as J,i as X}from"./chunk-3L2WMKXX.js";import{$ as B,$b as U,Bc as G,Cb as m,Cc as q,Dc as k,Eb as d,Fc as Q,Gc as D,Lb as j,Mb as p,Nb as C,Ob as S,Pb as H,Rb as M,Sb as P,Tb as N,Vb as F,Wa as l,Xa as h,Xb as A,Zb as z,a as $,ac as W,e as _,ja as O,kb as u,ob as c,pb as R,ra as f,rb as T,sa as x,ta as b,tb as r,ua as w,ub as o,vb as g,za as V,zb as E}from"./chunk-UAJ5BYCW.js";function ce(n,t){n&1&&(r(0,"span",29),p(1," with current filter settings applied "),o())}function de(n,t){n&1&&(r(0,"span"),p(1,"Export"),o())}function me(n,t){n&1&&(r(0,"span",14),b(),r(1,"svg",30),g(2,"circle",31)(3,"path",32),o(),p(4," Exporting... "),o())}var I=class n{totalRecords=0;hasActiveFilters=!1;export=new V;cancel=new V;isExporting=!1;exportConfig={format:"excel",filename:"",includeFilters:!0};getFormatButtonClass(t){let e="flex items-center justify-center p-3 text-sm font-medium rounded-lg border transition-colors";return this.exportConfig.format===t?`${e} bg-blue-600 text-white border-blue-600`:`${e} bg-white text-gray-700 border-gray-300 hover:bg-gray-50`}onBackdropClick(t){this.onCancel()}onCancel(){this.cancel.emit()}onExport(){return _(this,null,function*(){if(!this.isExporting){this.isExporting=!0;try{this.export.emit($({},this.exportConfig))}finally{this.isExporting=!1}}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=O({type:n,selectors:[["app-export-dialog"]],inputs:{totalRecords:"totalRecords",hasActiveFilters:"hasActiveFilters"},outputs:{export:"export",cancel:"cancel"},standalone:!0,features:[F],decls:45,vars:11,consts:[[1,"fixed","inset-0","bg-black","bg-opacity-50","flex","items-center","justify-center","z-50",3,"click"],[1,"bg-white","rounded-lg","shadow-xl","max-w-md","w-full","mx-4",3,"click"],[1,"px-6","py-4","border-b","border-gray-200"],[1,"text-lg","font-medium","text-gray-900"],[1,"text-sm","text-gray-500","mt-1"],[1,"px-6","py-4","space-y-4"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],[1,"grid","grid-cols-2","gap-3"],["type","button",1,"flex","items-center","justify-center","p-3","text-sm","font-medium","rounded-lg","border","transition-colors",3,"click"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","mr-2"],["d","M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm2 3h8v2H6V7zm0 4h8v2H6v-2z"],["d","M4 4a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2H4zm0 2h12v8H4V6z"],["for","filename",1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","text","id","filename","placeholder","Leave blank for auto-generated name",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-transparent",3,"ngModelChange","ngModel"],[1,"flex","items-center"],["type","checkbox",1,"h-4","w-4","text-blue-600","focus:ring-blue-500","border-gray-300","rounded",3,"ngModelChange","ngModel"],[1,"ml-2","text-sm","text-gray-700"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-3"],[1,"flex"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","text-blue-400","mt-0.5"],["fill-rule","evenodd","d","M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","text-blue-700"],["class","block mt-1",4,"ngIf"],[1,"px-6","py-4","border-t","border-gray-200","flex","justify-end","space-x-3"],["type","button",1,"px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-lg","hover:bg-gray-50","focus:outline-none","focus:ring-2","focus:ring-gray-500","focus:ring-offset-2",3,"click"],["type","button",1,"px-4","py-2","text-sm","font-medium","text-white","bg-blue-600","border","border-transparent","rounded-lg","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:ring-offset-2","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[4,"ngIf"],["class","flex items-center",4,"ngIf"],[1,"block","mt-1"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-2","h-4","w-4","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z",1,"opacity-75"]],template:function(e,i){e&1&&(r(0,"div",0),m("click",function(s){return i.onBackdropClick(s)}),r(1,"div",1),m("click",function(s){return s.stopPropagation()}),r(2,"div",2)(3,"h3",3),p(4,"Export Opportunities"),o(),r(5,"p",4),p(6," Configure your export settings "),o()(),r(7,"div",5)(8,"div")(9,"label",6),p(10," Export Format "),o(),r(11,"div",7)(12,"button",8),m("click",function(){return i.exportConfig.format="excel"}),b(),r(13,"svg",9),g(14,"path",10),o(),p(15," Excel (CSV) "),o(),w(),r(16,"button",8),m("click",function(){return i.exportConfig.format="pdf"}),b(),r(17,"svg",9),g(18,"path",11),o(),p(19," PDF "),o()()(),w(),r(20,"div")(21,"label",12),p(22," Filename (optional) "),o(),r(23,"input",13),N("ngModelChange",function(s){return P(i.exportConfig.filename,s)||(i.exportConfig.filename=s),s}),o()(),r(24,"div")(25,"label",14)(26,"input",15),N("ngModelChange",function(s){return P(i.exportConfig.includeFilters,s)||(i.exportConfig.includeFilters=s),s}),o(),r(27,"span",16),p(28," Include current filter information "),o()()(),r(29,"div",17)(30,"div",18),b(),r(31,"svg",19),g(32,"path",20),o(),w(),r(33,"div",21)(34,"p",22)(35,"strong"),p(36),o(),p(37," opportunities will be exported "),u(38,ce,2,0,"span",23),o()()()()(),r(39,"div",24)(40,"button",25),m("click",function(){return i.onCancel()}),p(41," Cancel "),o(),r(42,"button",26),m("click",function(){return i.onExport()}),u(43,de,2,0,"span",27)(44,me,5,0,"span",28),o()()()()),e&2&&(l(12),T(i.getFormatButtonClass("excel")),l(4),T(i.getFormatButtonClass("pdf")),l(7),M("ngModel",i.exportConfig.filename),l(3),M("ngModel",i.exportConfig.includeFilters),l(10),C(i.totalRecords),l(2),c("ngIf",i.hasActiveFilters&&i.exportConfig.includeFilters),l(4),c("disabled",i.isExporting),l(),c("ngIf",!i.isExporting),l(),c("ngIf",i.isExporting))},dependencies:[D,k,ie,K,Z,ee,te],encapsulation:2})};var L=class n{constructor(){}exportOpportunities(t,e){return _(this,null,function*(){try{let i=e.filename||this.generateFilename(e.format,e.filterInfo);e.format==="excel"?yield this.exportToExcel(t,i,e):e.format==="pdf"&&(yield this.exportToPDF(t,i,e))}catch(i){throw console.error("Export failed:",i),new Error("Failed to export data. Please try again.")}})}exportToExcel(t,e,i){return _(this,null,function*(){let s=[["Client Name","Description","Value","Stage","Probability","Owner","Created Date"].join(","),...t.map(v=>[this.escapeCSV(v.clientName),this.escapeCSV(v.description),v.value||0,this.escapeCSV(this.getStageDisplayName(v.stage)),v.probability||0,this.escapeCSV(v.ownerId),v.createdAt?this.formatDate(v.createdAt.toDate?v.createdAt.toDate():new Date(v.createdAt)):""].join(","))].join(`
`),y=s;i.includeFilters&&i.filterInfo&&(y=`Filters Applied: ${i.filterInfo}
Generated: ${new Date().toLocaleString()}

${s}`),this.downloadFile(y,e+".csv","text/csv")})}exportToPDF(t,e,i){return _(this,null,function*(){let a=this.generatePDFHTML(t,i),s=window.open("","_blank");s&&(s.document.write(a),s.document.close(),setTimeout(()=>{s.print(),s.close()},250))})}generatePDFHTML(t,e){let i=e.includeFilters&&e.filterInfo?`<p><strong>Filters Applied:</strong> ${e.filterInfo}</p>`:"",a=t.map(s=>`
      <tr>
        <td>${s.clientName}</td>
        <td>${s.description}</td>
        <td>$${(s.value||0).toLocaleString()}</td>
        <td>${this.getStageDisplayName(s.stage)}</td>
        <td>${s.probability||0}%</td>
        <td>${s.ownerId}</td>
        <td>${s.createdAt?this.formatDate(s.createdAt.toDate?s.createdAt.toDate():new Date(s.createdAt)):""}</td>
      </tr>
    `).join("");return`
      <!DOCTYPE html>
      <html>
      <head>
        <title>Opportunities Report</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; }
          h1 { color: #333; border-bottom: 2px solid #333; padding-bottom: 10px; }
          table { width: 100%; border-collapse: collapse; margin-top: 20px; }
          th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
          th { background-color: #f2f2f2; font-weight: bold; }
          .meta { color: #666; font-size: 0.9em; margin-bottom: 20px; }
          @media print { body { margin: 0; } }
        </style>
      </head>
      <body>
        <h1>Opportunities Report</h1>
        <div class="meta">
          <p><strong>Generated:</strong> ${new Date().toLocaleString()}</p>
          <p><strong>Total Opportunities:</strong> ${t.length}</p>
          ${i}
        </div>
        <table>
          <thead>
            <tr>
              <th>Client</th>
              <th>Description</th>
              <th>Value</th>
              <th>Stage</th>
              <th>Probability</th>
              <th>Owner</th>
              <th>Created</th>
            </tr>
          </thead>
          <tbody>
            ${a}
          </tbody>
        </table>
      </body>
      </html>
    `}downloadFile(t,e,i){let a=new Blob([t],{type:i}),s=window.URL.createObjectURL(a),y=document.createElement("a");y.href=s,y.download=e,document.body.appendChild(y),y.click(),document.body.removeChild(y),window.URL.revokeObjectURL(s)}generateFilename(t,e){let i=new Date().toISOString().split("T")[0],a=new Date().toTimeString().split(" ")[0].replace(/:/g,"-"),s=e?`-${e.toLowerCase().replace(/\s+/g,"-")}`:"";return`opportunities-${i}-${a}${s}`}escapeCSV(t){return t.includes(",")||t.includes('"')||t.includes(`
`)?`"${t.replace(/"/g,'""')}"`:t}formatDate(t){return t.toLocaleDateString()}getStageDisplayName(t){return{prospecting:"Prospecting",qualification:"Qualification",proposal:"Proposal",negotiation:"Negotiation","closed-won":"Closed Won","closed-lost":"Closed Lost"}[t]||t}static \u0275fac=function(e){return new(e||n)};static \u0275prov=B({token:n,factory:n.\u0275fac,providedIn:"root"})};var ue=n=>["/opportunities",n],fe=n=>["/opportunities",n,"edit"];function xe(n,t){if(n&1){let e=E();r(0,"div",16)(1,"span",17),p(2),r(3,"button",18),m("click",function(){f(e);let a=d();return x(a.clearStageFilter())}),g(4,"i",19),o()()()}if(n&2){let e=d();l(2),S(" Filtered by: ",e.getStageDisplayName(e.activeStageFilter)," ")}}function ve(n,t){if(n&1){let e=E();r(0,"button",12),m("click",function(){let a=f(e).$implicit,s=d();return x(s.filterByStage(a.id))}),p(1),o()}if(n&2){let e=t.$implicit,i=d();c("ngClass",i.activeStageFilter===e.id?"text-white bg-blue-500":"bg-gray-200 text-gray-700 hover:bg-gray-300"),l(),H(" ",e.name," (",i.getStageCount(e.id),") ")}}function _e(n,t){if(n&1&&g(0,"i",28),n&2){let e=d(2);c("ngClass",e.sortDirection==="asc"?"fas fa-sort-up":"fas fa-sort-down")}}function ye(n,t){if(n&1&&g(0,"i",28),n&2){let e=d(2);c("ngClass",e.sortDirection==="asc"?"fas fa-sort-up":"fas fa-sort-down")}}function be(n,t){if(n&1&&g(0,"i",28),n&2){let e=d(2);c("ngClass",e.sortDirection==="asc"?"fas fa-sort-up":"fas fa-sort-down")}}function he(n,t){if(n&1&&g(0,"i",28),n&2){let e=d(2);c("ngClass",e.sortDirection==="asc"?"fas fa-sort-up":"fas fa-sort-down")}}function Ce(n,t){if(n&1&&g(0,"i",28),n&2){let e=d(2);c("ngClass",e.sortDirection==="asc"?"fas fa-sort-up":"fas fa-sort-down")}}function Se(n,t){if(n&1&&g(0,"i",28),n&2){let e=d(2);c("ngClass",e.sortDirection==="asc"?"fas fa-sort-up":"fas fa-sort-down")}}function we(n,t){if(n&1&&(r(0,"tr",29)(1,"td",30)(2,"div",31),p(3),o()(),r(4,"td",30)(5,"div",32),p(6),o()(),r(7,"td",30)(8,"div",33),p(9),z(10,"currency"),o()(),r(11,"td",30)(12,"span",34),p(13),o()(),r(14,"td",30)(15,"div",35)(16,"div",36),g(17,"div",37),o(),r(18,"span",38),p(19),o()()(),r(20,"td",39),p(21),o(),r(22,"td",30)(23,"div",40)(24,"a",41),p(25,"View"),o(),r(26,"a",42),p(27,"Edit"),o()()()()),n&2){let e=t.$implicit,i=d(2);l(3),C(e.clientName),l(3),C(e.solutionName),l(3),C(U(10,12,e.value,"USD","symbol","1.0-0")),l(3),c("ngClass",i.getStageColor(e.stage)),l(),S(" ",i.getStageDisplayName(e.stage)," "),l(4),R("width",e.probability,"%"),c("ngClass",i.getProbabilityColor(e.probability)),l(2),S("",e.probability,"%"),l(2),S(" ",i.getOwnerName(e.ownerId)," "),l(3),c("routerLink",A(17,ue,e.id)),l(2),c("routerLink",A(19,fe,e.id))}}function Ee(n,t){if(n&1){let e=E();r(0,"div")(1,"div",20)(2,"table",21)(3,"thead",22)(4,"tr")(5,"th",23),m("click",function(){f(e);let a=d();return x(a.sortBy("clientName"))}),p(6," Client "),u(7,_e,1,1,"i",24),o(),r(8,"th",23),m("click",function(){f(e);let a=d();return x(a.sortBy("solutionName"))}),p(9," Solution "),u(10,ye,1,1,"i",24),o(),r(11,"th",23),m("click",function(){f(e);let a=d();return x(a.sortBy("value"))}),p(12," Value "),u(13,be,1,1,"i",24),o(),r(14,"th",23),m("click",function(){f(e);let a=d();return x(a.sortBy("stage"))}),p(15," Stage "),u(16,he,1,1,"i",24),o(),r(17,"th",23),m("click",function(){f(e);let a=d();return x(a.sortBy("probability"))}),p(18," Probability "),u(19,Ce,1,1,"i",24),o(),r(20,"th",23),m("click",function(){f(e);let a=d();return x(a.sortBy("ownerId"))}),p(21," Owner "),u(22,Se,1,1,"i",24),o(),r(23,"th",25),p(24,"Actions"),o()()(),r(25,"tbody",26),u(26,we,28,21,"tr",27),o()()()()}if(n&2){let e=d();l(7),c("ngIf",e.sortField==="clientName"),l(3),c("ngIf",e.sortField==="solutionName"),l(3),c("ngIf",e.sortField==="value"),l(3),c("ngIf",e.sortField==="stage"),l(3),c("ngIf",e.sortField==="probability"),l(3),c("ngIf",e.sortField==="ownerId"),l(4),c("ngForOf",e.sortedOpportunities)}}function Oe(n,t){if(n&1&&(r(0,"div",43),g(1,"i",44),r(2,"p",45),p(3),o(),r(4,"a",46),p(5," Create First Opportunity "),o()()),n&2){let e=d();l(3),C(e.activeStageFilter?"No opportunities found for this stage.":"No opportunities found.")}}function Fe(n,t){if(n&1){let e=E();r(0,"app-export-dialog",47),m("export",function(a){f(e);let s=d();return x(s.onExport(a))})("cancel",function(){f(e);let a=d();return x(a.showExportDialog=!1)}),o()}if(n&2){let e=d();c("totalRecords",e.sortedOpportunities.length)("hasActiveFilters",!!e.activeStageFilter)}}var se=class n{constructor(t,e,i,a,s,y){this.opportunityService=t;this.exportService=e;this.userService=i;this.pipelineStageService=a;this.route=s;this.router=y}opportunities=[];sortedOpportunities=[];sortField="";sortDirection="asc";activeStageFilter="";showExportDialog=!1;users=[];usersMap=new Map;availableStages=[];ngOnInit(){return _(this,null,function*(){this.route.queryParams.subscribe(t=>{t.stage&&(this.activeStageFilter=t.stage)});try{yield this.loadStages();let t=yield this.userService.getUsers();this.users=t,this.usersMap=new Map(t.map(i=>[i.id,i]));let e=yield this.opportunityService.getOpportunities();this.opportunities=e,this.applyFilters()}catch(t){console.error("Error loading data:",t)}})}loadStages(){return _(this,null,function*(){try{this.availableStages=yield this.pipelineStageService.getStagesPromise()}catch(t){console.error("Error loading stages:",t)}})}applyFilters(){let t=[...this.opportunities];console.log(this.activeStageFilter),this.activeStageFilter&&(t=t.filter(e=>e.stage===this.activeStageFilter)),this.sortedOpportunities=t,this.applySorting()}filterByStage(t){this.activeStageFilter=t;let e=t?{stage:t}:{};this.router.navigate([],{relativeTo:this.route,queryParams:e,queryParamsHandling:"merge"}),this.applyFilters()}clearStageFilter(){this.filterByStage("")}getStageCount(t){return this.opportunities.filter(e=>e.stage===t).length}getStageDisplayName(t){let e=this.availableStages.find(i=>i.id===t);return e?e.name:t}getOwnerName(t){return this.usersMap.get(t)?.name||t}getStageColor(t){let e=this.getStageDisplayName(t).toLowerCase();return e.includes("closed won")?"bg-green-500 text-green-100":e.includes("closed lost")?"bg-red-500 text-red-100":e.includes("proposal")?"bg-yellow-500 text-yellow-100":e.includes("negotiation")?"bg-orange-500 text-orange-100":e.includes("qualification")?"bg-blue-500 text-blue-100":"bg-gray-500 text-gray-100"}getProbabilityColor(t){return t>=80?"bg-green-500":t>=60?"bg-yellow-500":t>=40?"bg-orange-500":"bg-red-500"}sortBy(t){this.sortField===t?this.sortDirection=this.sortDirection==="asc"?"desc":"asc":(this.sortField=t,this.sortDirection="asc"),this.applySorting()}applySorting(){this.sortedOpportunities=[...this.sortedOpportunities].sort((t,e)=>{let i=t[this.sortField],a=e[this.sortField];return i<a?this.sortDirection==="asc"?-1:1:i>a?this.sortDirection==="asc"?1:-1:0})}onExport(t){return _(this,null,function*(){try{let e=this.activeStageFilter?`Stage: ${this.getStageDisplayName(this.activeStageFilter)}`:"All stages";yield this.exportService.exportOpportunities(this.sortedOpportunities,{format:t.format,filename:t.filename,includeFilters:t.includeFilters,filterInfo:t.includeFilters?e:void 0}),this.showExportDialog=!1,console.log(`Successfully exported ${this.sortedOpportunities.length} opportunities as ${t.format.toUpperCase()}`)}catch(e){console.error("Export failed:",e),alert("Export failed. Please try again.")}})}static \u0275fac=function(e){return new(e||n)(h(re),h(L),h(ne),h(oe),h(Y),h(J))};static \u0275cmp=O({type:n,selectors:[["app-opportunities-list"]],standalone:!0,features:[F],decls:22,vars:9,consts:[["noOpportunities",""],[1,"p-8"],[1,"flex","justify-between","items-center","mb-4"],[1,"text-2xl","font-bold"],["class","mt-2",4,"ngIf"],[1,"flex","space-x-3"],[1,"bg-green-500","hover:bg-green-700","disabled:bg-gray-400","disabled:cursor-not-allowed","text-white","font-bold","py-2","px-4","rounded","flex","items-center","transition-colors",3,"click","disabled"],["fill","currentColor","viewBox","0 0 20 20",1,"w-4","h-4","mr-2"],["d","M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM6.293 6.707a1 1 0 010-1.414l3-3a1 1 0 011.414 0l3 3a1 1 0 01-1.414 1.414L11 5.414V13a1 1 0 11-2 0V5.414L7.707 6.707a1 1 0 01-1.414 0z"],["routerLink","/opportunities/create",1,"bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded"],[1,"mb-6"],[1,"flex","flex-wrap","gap-2"],[1,"px-3","py-1","rounded-md","text-sm","font-medium","transition-colors",3,"click","ngClass"],["class","px-3 py-1 rounded-md text-sm font-medium transition-colors",3,"ngClass","click",4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[3,"totalRecords","hasActiveFilters","export","cancel",4,"ngIf"],[1,"mt-2"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-sm","font-medium","bg-blue-100","text-blue-800"],[1,"ml-2","text-blue-600","hover:text-blue-800",3,"click"],[1,"fas","fa-times"],[1,"overflow-x-auto"],[1,"min-w-full","bg-white","rounded-lg","shadow"],[1,"bg-gray-50"],[1,"py-3","px-4","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider","cursor-pointer","hover:bg-gray-100",3,"click"],["class","ml-1",3,"ngClass",4,"ngIf"],[1,"py-3","px-4","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],["class","hover:bg-gray-50 transition-colors",4,"ngFor","ngForOf"],[1,"ml-1",3,"ngClass"],[1,"hover:bg-gray-50","transition-colors"],[1,"py-4","px-4","whitespace-nowrap"],[1,"font-medium","text-gray-900"],[1,"text-gray-900"],[1,"font-semibold","text-gray-900"],[1,"px-2","py-1","text-xs","font-semibold","rounded-full",3,"ngClass"],[1,"flex","items-center"],[1,"w-16","bg-gray-200","rounded-full","h-2","mr-2"],[1,"h-2","rounded-full","transition-all","duration-300",3,"ngClass"],[1,"text-sm","text-gray-600"],[1,"py-4","px-4","whitespace-nowrap","text-gray-900"],[1,"flex","space-x-2"],[1,"text-blue-600","hover:text-blue-800","font-medium",3,"routerLink"],[1,"text-green-600","hover:text-green-800","font-medium",3,"routerLink"],[1,"text-center","py-8"],[1,"fas","fa-search","text-gray-300","text-4xl","mb-4"],[1,"text-gray-500","text-lg"],["routerLink","/opportunities/create",1,"mt-4","inline-block","bg-blue-500","hover:bg-blue-700","text-white","font-bold","py-2","px-4","rounded"],[3,"export","cancel","totalRecords","hasActiveFilters"]],template:function(e,i){if(e&1){let a=E();r(0,"div",1)(1,"div",2)(2,"div")(3,"h1",3),p(4,"Opportunities"),o(),u(5,xe,5,1,"div",4),o(),r(6,"div",5)(7,"button",6),m("click",function(){return f(a),x(i.showExportDialog=!0)}),b(),r(8,"svg",7),g(9,"path",8),o(),p(10),o(),w(),r(11,"a",9),p(12," Create New Opportunity "),o()()(),r(13,"div",10)(14,"div",11)(15,"button",12),m("click",function(){return f(a),x(i.filterByStage(""))}),p(16),o(),u(17,ve,2,3,"button",13),o()(),u(18,Ee,27,7,"div",14)(19,Oe,6,1,"ng-template",null,0,W),o(),u(21,Fe,1,2,"app-export-dialog",15)}if(e&2){let a=j(20);l(5),c("ngIf",i.activeStageFilter),l(2),c("disabled",i.sortedOpportunities.length===0),l(3),S(" Export (",i.sortedOpportunities.length,") "),l(5),c("ngClass",i.activeStageFilter?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-blue-500 text-white"),l(),S(" All Stages (",i.opportunities.length,") "),l(),c("ngForOf",i.availableStages),l(),c("ngIf",i.sortedOpportunities.length>0)("ngIfElse",a),l(3),c("ngIf",i.showExportDialog)}},dependencies:[D,G,q,k,Q,X,I],encapsulation:2})};export{se as OpportunitiesListComponent};
