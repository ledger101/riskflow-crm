import{a as G}from"./chunk-J5YVJBHZ.js";import"./chunk-JRVZ5TRL.js";import{c as w,e as c,f as I,g as E,i as L,k as M,l as N,s as T,u as q}from"./chunk-N72T7JVJ.js";import{h as F}from"./chunk-3L2WMKXX.js";import{Cb as x,Dc as S,Eb as g,Gc as C,Mb as m,Nb as b,Ob as h,Vb as y,Wa as r,Xa as u,e as v,ja as _,kb as s,ob as a,tb as o,ub as n,vb as f}from"./chunk-UAJ5BYCW.js";function j(e,l){e&1&&(o(0,"div"),m(1,"Email is required"),n())}function A(e,l){e&1&&(o(0,"div"),m(1,"Enter a valid email"),n())}function P(e,l){if(e&1&&(o(0,"div",11),s(1,j,2,0,"div",12)(2,A,2,0,"div",12),n()),e&2){let i,t,d=g();r(),a("ngIf",(i=d.loginForm.get("email"))==null||i.errors==null?null:i.errors.required),r(),a("ngIf",(t=d.loginForm.get("email"))==null||t.errors==null?null:t.errors.email)}}function R(e,l){e&1&&(o(0,"div"),m(1,"Password is required"),n())}function k(e,l){if(e&1&&(o(0,"div",11),s(1,R,2,0,"div",12),n()),e&2){let i,t=g();r(),a("ngIf",(i=t.loginForm.get("password"))==null||i.errors==null?null:i.errors.required)}}function B(e,l){if(e&1&&(o(0,"div",13),m(1),n()),e&2){let i=g();r(),b(i.errorMessage)}}var D=class e{constructor(l,i,t){this.fb=l;this.authService=i;this.router=t;this.loginForm=this.fb.group({email:["",[c.required,c.email]],password:["",c.required]})}loginForm;errorMessage=null;loading=!1;onSubmit(){return v(this,null,function*(){if(!this.loginForm.invalid){this.loading=!0,this.errorMessage=null;try{yield this.authService.signIn(this.loginForm.value.email,this.loginForm.value.password),this.router.navigate(["/"])}catch(l){this.errorMessage=l.message||"Login failed"}finally{this.loading=!1}}})}static \u0275fac=function(i){return new(i||e)(u(T),u(G),u(F))};static \u0275cmp=_({type:e,selectors:[["app-login"]],standalone:!0,features:[y],decls:17,vars:6,consts:[[1,"min-h-screen","flex","items-center","justify-center"],[1,"bg-white","p-8","rounded","shadow-md","w-full","max-w-sm",3,"ngSubmit","formGroup"],[1,"text-xl","font-bold","mb-4"],[1,"mb-4"],["for","email",1,"block","mb-1"],["id","email","type","email","formControlName","email",1,"w-full","border","rounded","px-3","py-2"],["class","text-red-500 text-sm",4,"ngIf"],["for","password",1,"block","mb-1"],["id","password","type","password","formControlName","password",1,"w-full","border","rounded","px-3","py-2"],["class","text-red-500 mb-4",4,"ngIf"],["type","submit",1,"w-full","bg-blue-500","text-white","py-2","rounded",3,"disabled"],[1,"text-red-500","text-sm"],[4,"ngIf"],[1,"text-red-500","mb-4"]],template:function(i,t){if(i&1&&(o(0,"div",0)(1,"form",1),x("ngSubmit",function(){return t.onSubmit()}),o(2,"h2",2),m(3,"Login"),n(),o(4,"div",3)(5,"label",4),m(6,"Email"),n(),f(7,"input",5),s(8,P,3,2,"div",6),n(),o(9,"div",3)(10,"label",7),m(11,"Password"),n(),f(12,"input",8),s(13,k,2,1,"div",6),n(),s(14,B,2,1,"div",9),o(15,"button",10),m(16),n()()()),i&2){let d,p;r(),a("formGroup",t.loginForm),r(7),a("ngIf",((d=t.loginForm.get("email"))==null?null:d.touched)&&((d=t.loginForm.get("email"))==null?null:d.invalid)),r(5),a("ngIf",((p=t.loginForm.get("password"))==null?null:p.touched)&&((p=t.loginForm.get("password"))==null?null:p.invalid)),r(),a("ngIf",t.errorMessage),r(),a("disabled",t.loading),r(),h(" ",t.loading?"Logging in...":"Login"," ")}},dependencies:[q,L,w,I,E,M,N,C,S],styles:["[_nghost-%COMP%]{display:block}"]})};export{D as LoginComponent};
