import{b as l,c as h,d as m,g as n,k as o,q as f}from"./chunk-JRVZ5TRL.js";import{$ as u,e as s,ea as c,l as a}from"./chunk-UAJ5BYCW.js";var g=class i{constructor(r){this.firebaseService=r;this.auth=this.firebaseService.getAuth(),h(this.auth,e=>{this.currentUserSubject.next(e)})}auth;currentUserSubject=new a(null);currentUser$=this.currentUserSubject.asObservable();signIn(r,e){return s(this,null,function*(){try{yield l(this.auth,r,e)}catch(t){throw console.error("Sign in error:",t),t}})}signOut(){return s(this,null,function*(){try{yield m(this.auth)}catch(r){throw console.error("Sign out error:",r),r}})}getCurrentUser(){return this.currentUserSubject.value}isAuthenticated(){return this.getCurrentUser()!==null}isAdmin(){return s(this,null,function*(){try{let r=this.getCurrentUser();if(!r)return!1;let e=this.firebaseService.getFirestore(),t=yield o(n(e,"userRoles",r.uid));return t.exists()?t.data().role==="Admin":!1}catch(r){return console.error("Error checking admin status:",r),!1}})}getUserRole(){return s(this,null,function*(){try{let r=this.getCurrentUser();if(!r)return null;let e=this.firebaseService.getFirestore(),t=yield o(n(e,"userRoles",r.uid));return t.exists()&&t.data().role||null}catch(r){return console.error("Error getting user role:",r),null}})}getSalesTeamMembers(){return s(this,null,function*(){return[{id:"1",name:"Alice"},{id:"2",name:"Bob"},{id:"3",name:"Charlie"}]})}static \u0275fac=function(e){return new(e||i)(c(f))};static \u0275prov=u({token:i,factory:i.\u0275fac,providedIn:"root"})};export{g as a};
