import{a as G}from"./chunk-256TWJB4.js";import{a as Vt,b as Bt,c as Lt,d as Yt,e as $t,f as qt,g as Gt,h as zt,i as Ut,j as Kt,k as Wt,l as ne,m as oe,n as re,o as ae,p as se,q as le,r as q,s as ce,t as ue,u as fe,v as pe,w as he}from"./chunk-5B6EP3IK.js";import{B as Rt,C as Ht,D as jt,I as Jt,K as Qt,L as Xt,M as Zt,N as te,Y as de,Z as me,s as Ft,z as Nt}from"./chunk-4QJ2NBJR.js";import{c as y,d as S,f as u,g as h,h as F,i as b,j as ee,k as ie}from"./chunk-EJJBCPAK.js";import{f as Z,l as Tt,p as kt,q as At}from"./chunk-JRVZ5TRL.js";import{c as St,e as A,f as xt,g as wt,i as yt,k as Mt,l as Dt,m as Et,n as Y,o as $,r as It,s as Pt,u as Ot}from"./chunk-N72T7JVJ.js";import{l as vt}from"./chunk-3L2WMKXX.js";import{$ as R,Ca as ft,Cb as _,Cc as B,D as nt,Dc as L,Eb as C,Fb as ht,Gb as gt,Gc as bt,Mb as a,Nb as v,Vb as _t,Wa as l,Xa as m,aa as H,ca as ot,e as g,ea as rt,ga as at,ha as st,hb as J,ic as Ct,ja as M,k as W,ka as j,kb as f,la as lt,lc as k,m as it,nb as Q,ob as c,qa as ct,qb as X,ra as D,sa as E,sb as pt,ta as dt,tb as r,ua as mt,ub as n,vb as p,wb as I,xb as P,za as ut,zb as V}from"./chunk-UAJ5BYCW.js";var xe=["mat-sort-header",""],we=["*"];function ye(e,i){if(e&1){let t=V();r(0,"div",2),_("@arrowPosition.start",function(){D(t);let s=C();return E(s._disableViewStateAnimation=!0)})("@arrowPosition.done",function(){D(t);let s=C();return E(s._disableViewStateAnimation=!1)}),p(1,"div",3),r(2,"div",4),p(3,"div",5)(4,"div",6)(5,"div",7),n()()}if(e&2){let t=C();c("@arrowOpacity",t._getArrowViewState())("@arrowPosition",t._getArrowViewState())("@allowChildren",t._getArrowDirectionState()),l(2),c("@indicator",t._getArrowDirectionState()),l(),c("@leftPointer",t._getArrowDirectionState()),l(),c("@rightPointer",t._getArrowDirectionState())}}var ge=new ot("MAT_SORT_DEFAULT_OPTIONS"),tt=(()=>{class e{get direction(){return this._direction}set direction(t){this._direction=t}constructor(t){this._defaultOptions=t,this._initializedStream=new it(1),this.sortables=new Map,this._stateChanges=new W,this.start="asc",this._direction="",this.disabled=!1,this.sortChange=new ut,this.initialized=this._initializedStream}register(t){this.sortables.set(t.id,t)}deregister(t){this.sortables.delete(t.id)}sort(t){this.active!=t.id?(this.active=t.id,this.direction=t.start?t.start:this.start):this.direction=this.getNextSortDirection(t),this.sortChange.emit({active:this.active,direction:this.direction})}getNextSortDirection(t){if(!t)return"";let o=t?.disableClear??this.disableClear??!!this._defaultOptions?.disableClear,s=Me(t.start||this.start,o),d=s.indexOf(this.direction)+1;return d>=s.length&&(d=0),s[d]}ngOnInit(){this._initializedStream.next()}ngOnChanges(){this._stateChanges.next()}ngOnDestroy(){this._stateChanges.complete(),this._initializedStream.complete()}static{this.\u0275fac=function(o){return new(o||e)(m(ge,8))}}static{this.\u0275dir=lt({type:e,selectors:[["","matSort",""]],hostAttrs:[1,"mat-sort"],inputs:{active:[0,"matSortActive","active"],start:[0,"matSortStart","start"],direction:[0,"matSortDirection","direction"],disableClear:[2,"matSortDisableClear","disableClear",k],disabled:[2,"matSortDisabled","disabled",k]},outputs:{sortChange:"matSortChange"},exportAs:["matSort"],standalone:!0,features:[J,ct]})}}return e})();function Me(e,i){let t=["asc","desc"];return e=="desc"&&t.reverse(),i||t.push(""),t}var w=Ht.ENTERING+" "+Rt.STANDARD_CURVE,O={indicator:y("indicator",[h("active-asc, asc",u({transform:"translateY(0px)"})),h("active-desc, desc",u({transform:"translateY(10px)"})),b("active-asc <=> active-desc",S(w))]),leftPointer:y("leftPointer",[h("active-asc, asc",u({transform:"rotate(-45deg)"})),h("active-desc, desc",u({transform:"rotate(45deg)"})),b("active-asc <=> active-desc",S(w))]),rightPointer:y("rightPointer",[h("active-asc, asc",u({transform:"rotate(45deg)"})),h("active-desc, desc",u({transform:"rotate(-45deg)"})),b("active-asc <=> active-desc",S(w))]),arrowOpacity:y("arrowOpacity",[h("desc-to-active, asc-to-active, active",u({opacity:1})),h("desc-to-hint, asc-to-hint, hint",u({opacity:.54})),h("hint-to-desc, active-to-desc, desc, hint-to-asc, active-to-asc, asc, void",u({opacity:0})),b("* => asc, * => desc, * => active, * => hint, * => void",S("0ms")),b("* <=> *",S(w))]),arrowPosition:y("arrowPosition",[b("* => desc-to-hint, * => desc-to-active",S(w,F([u({transform:"translateY(-25%)"}),u({transform:"translateY(0)"})]))),b("* => hint-to-desc, * => active-to-desc",S(w,F([u({transform:"translateY(0)"}),u({transform:"translateY(25%)"})]))),b("* => asc-to-hint, * => asc-to-active",S(w,F([u({transform:"translateY(25%)"}),u({transform:"translateY(0)"})]))),b("* => hint-to-asc, * => active-to-asc",S(w,F([u({transform:"translateY(0)"}),u({transform:"translateY(-25%)"})]))),h("desc-to-hint, asc-to-hint, hint, desc-to-active, asc-to-active, active",u({transform:"translateY(0)"})),h("hint-to-desc, active-to-desc, desc",u({transform:"translateY(-25%)"})),h("hint-to-asc, active-to-asc, asc",u({transform:"translateY(25%)"}))]),allowChildren:y("allowChildren",[b("* <=> *",[ie("@*",ee(),{optional:!0})])])},z=(()=>{class e{constructor(){this.changes=new W}static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})();function De(e){return e||new z}var Ee={provide:z,deps:[[new at,new st,z]],useFactory:De},_e=(()=>{class e{get sortActionDescription(){return this._sortActionDescription}set sortActionDescription(t){this._updateSortActionDescription(t)}constructor(t,o,s,d,x,ve,Se,et){this._intl=t,this._changeDetectorRef=o,this._sort=s,this._columnDef=d,this._focusMonitor=x,this._elementRef=ve,this._ariaDescriber=Se,this._showIndicatorHint=!1,this._viewState={},this._arrowDirection="",this._disableViewStateAnimation=!1,this.arrowPosition="after",this.disabled=!1,this._sortActionDescription="Sort",et?.arrowPosition&&(this.arrowPosition=et?.arrowPosition),this._handleStateChanges()}ngOnInit(){!this.id&&this._columnDef&&(this.id=this._columnDef.name),this._updateArrowDirection(),this._setAnimationTransitionState({toState:this._isSorted()?"active":this._arrowDirection}),this._sort.register(this),this._sortButton=this._elementRef.nativeElement.querySelector(".mat-sort-header-container"),this._updateSortActionDescription(this._sortActionDescription)}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0).subscribe(t=>{let o=!!t;o!==this._showIndicatorHint&&(this._setIndicatorHintVisible(o),this._changeDetectorRef.markForCheck())})}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef),this._sort.deregister(this),this._rerenderSubscription.unsubscribe(),this._sortButton&&this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription)}_setIndicatorHintVisible(t){this._isDisabled()&&t||(this._showIndicatorHint=t,this._isSorted()||(this._updateArrowDirection(),this._showIndicatorHint?this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"hint"}):this._setAnimationTransitionState({fromState:"hint",toState:this._arrowDirection})))}_setAnimationTransitionState(t){this._viewState=t||{},this._disableViewStateAnimation&&(this._viewState={toState:t.toState})}_toggleOnInteraction(){this._sort.sort(this),(this._viewState.toState==="hint"||this._viewState.toState==="active")&&(this._disableViewStateAnimation=!0)}_handleClick(){this._isDisabled()||this._sort.sort(this)}_handleKeydown(t){!this._isDisabled()&&(t.keyCode===32||t.keyCode===13)&&(t.preventDefault(),this._toggleOnInteraction())}_isSorted(){return this._sort.active==this.id&&(this._sort.direction==="asc"||this._sort.direction==="desc")}_getArrowDirectionState(){return`${this._isSorted()?"active-":""}${this._arrowDirection}`}_getArrowViewState(){let t=this._viewState.fromState;return(t?`${t}-to-`:"")+this._viewState.toState}_updateArrowDirection(){this._arrowDirection=this._isSorted()?this._sort.direction:this.start||this._sort.start}_isDisabled(){return this._sort.disabled||this.disabled}_getAriaSortAttribute(){return this._isSorted()?this._sort.direction=="asc"?"ascending":"descending":"none"}_renderArrow(){return!this._isDisabled()||this._isSorted()}_updateSortActionDescription(t){this._sortButton&&(this._ariaDescriber?.removeDescription(this._sortButton,this._sortActionDescription),this._ariaDescriber?.describe(this._sortButton,t)),this._sortActionDescription=t}_handleStateChanges(){this._rerenderSubscription=nt(this._sort.sortChange,this._sort._stateChanges,this._intl.changes).subscribe(()=>{this._isSorted()&&(this._updateArrowDirection(),(this._viewState.toState==="hint"||this._viewState.toState==="active")&&(this._disableViewStateAnimation=!0),this._setAnimationTransitionState({fromState:this._arrowDirection,toState:"active"}),this._showIndicatorHint=!1),!this._isSorted()&&this._viewState&&this._viewState.toState==="active"&&(this._disableViewStateAnimation=!1,this._setAnimationTransitionState({fromState:"active",toState:this._arrowDirection})),this._changeDetectorRef.markForCheck()})}static{this.\u0275fac=function(o){return new(o||e)(m(z),m(Ct),m(tt,8),m("MAT_SORT_HEADER_COLUMN_DEF",8),m(Nt),m(ft),m(Ft,8),m(ge,8))}}static{this.\u0275cmp=M({type:e,selectors:[["","mat-sort-header",""]],hostAttrs:[1,"mat-sort-header"],hostVars:3,hostBindings:function(o,s){o&1&&_("click",function(){return s._handleClick()})("keydown",function(x){return s._handleKeydown(x)})("mouseenter",function(){return s._setIndicatorHintVisible(!0)})("mouseleave",function(){return s._setIndicatorHintVisible(!1)}),o&2&&(Q("aria-sort",s._getAriaSortAttribute()),X("mat-sort-header-disabled",s._isDisabled()))},inputs:{id:[0,"mat-sort-header","id"],arrowPosition:"arrowPosition",start:"start",disabled:[2,"disabled","disabled",k],sortActionDescription:"sortActionDescription",disableClear:[2,"disableClear","disableClear",k]},exportAs:["matSortHeader"],standalone:!0,features:[J,_t],attrs:xe,ngContentSelectors:we,decls:4,vars:7,consts:[[1,"mat-sort-header-container","mat-focus-indicator"],[1,"mat-sort-header-content"],[1,"mat-sort-header-arrow"],[1,"mat-sort-header-stem"],[1,"mat-sort-header-indicator"],[1,"mat-sort-header-pointer-left"],[1,"mat-sort-header-pointer-right"],[1,"mat-sort-header-pointer-middle"]],template:function(o,s){o&1&&(ht(),r(0,"div",0)(1,"div",1),gt(2),n(),f(3,ye,6,6,"div",2),n()),o&2&&(X("mat-sort-header-sorted",s._isSorted())("mat-sort-header-position-before",s.arrowPosition==="before"),Q("tabindex",s._isDisabled()?null:0)("role",s._isDisabled()?null:"button"),l(3),pt(s._renderArrow()?3:-1))},styles:[".mat-sort-header-container{display:flex;cursor:pointer;align-items:center;letter-spacing:normal;outline:0}[mat-sort-header].cdk-keyboard-focused .mat-sort-header-container,[mat-sort-header].cdk-program-focused .mat-sort-header-container{border-bottom:solid 1px currentColor}.mat-sort-header-disabled .mat-sort-header-container{cursor:default}.mat-sort-header-container::before{margin:calc(calc(var(--mat-focus-indicator-border-width, 3px) + 2px)*-1)}.mat-sort-header-content{text-align:center;display:flex;align-items:center}.mat-sort-header-position-before{flex-direction:row-reverse}.mat-sort-header-arrow{height:12px;width:12px;min-width:12px;position:relative;display:flex;color:var(--mat-sort-arrow-color, var(--mat-app-on-surface));opacity:0}.mat-sort-header-arrow,[dir=rtl] .mat-sort-header-position-before .mat-sort-header-arrow{margin:0 0 0 6px}.mat-sort-header-position-before .mat-sort-header-arrow,[dir=rtl] .mat-sort-header-arrow{margin:0 6px 0 0}.mat-sort-header-stem{background:currentColor;height:10px;width:2px;margin:auto;display:flex;align-items:center}.cdk-high-contrast-active .mat-sort-header-stem{width:0;border-left:solid 2px}.mat-sort-header-indicator{width:100%;height:2px;display:flex;align-items:center;position:absolute;top:0;left:0}.mat-sort-header-pointer-middle{margin:auto;height:2px;width:2px;background:currentColor;transform:rotate(45deg)}.cdk-high-contrast-active .mat-sort-header-pointer-middle{width:0;height:0;border-top:solid 2px;border-left:solid 2px}.mat-sort-header-pointer-left,.mat-sort-header-pointer-right{background:currentColor;width:6px;height:2px;position:absolute;top:0}.cdk-high-contrast-active .mat-sort-header-pointer-left,.cdk-high-contrast-active .mat-sort-header-pointer-right{width:0;height:0;border-left:solid 6px;border-top:solid 2px}.mat-sort-header-pointer-left{transform-origin:right;left:0}.mat-sort-header-pointer-right{transform-origin:left;right:0}"],encapsulation:2,data:{animation:[O.indicator,O.leftPointer,O.rightPointer,O.arrowOpacity,O.arrowPosition,O.allowChildren]},changeDetection:0})}}return e})(),Ce=(()=>{class e{static{this.\u0275fac=function(o){return new(o||e)}}static{this.\u0275mod=j({type:e})}static{this.\u0275inj=H({providers:[Ee],imports:[jt]})}}return e})();var T=class e{constructor(i){this.firebaseService=i}getCountries(){return g(this,null,function*(){try{let i=this.firebaseService.getFirestore(),t=Z(i,"countries"),o=yield Tt(t),s=[];return o.forEach(d=>{let x=d.data();s.push(x.name)}),console.log("Fetched countries:",s),s}catch(i){return console.error("Error fetching countries:",i),[]}})}addCountry(i){return g(this,null,function*(){try{let t=this.firebaseService.getFirestore(),o=Z(t,"countries");yield kt(o,{name:i})}catch(t){throw console.error("Error adding country:",t),t}})}static \u0275fac=function(t){return new(t||e)(rt(At))};static \u0275prov=R({token:e,factory:e.\u0275fac,providedIn:"root"})};function Re(e,i){e&1&&(r(0,"p",34),a(1,"Name is required"),n())}function He(e,i){if(e&1&&(r(0,"option",35),a(1),n()),e&2){let t=i.$implicit;c("value",t),l(),v(t)}}function je(e,i){e&1&&(r(0,"p",34),a(1,"Country is required"),n())}function Ve(e,i){e&1&&(r(0,"p",34),a(1,"Please enter a valid email address"),n())}function Be(e,i){e&1&&(r(0,"span"),a(1,"Saving..."),n())}function Le(e,i){if(e&1&&(r(0,"span"),a(1),n()),e&2){let t=C();l(),v(t.isEditMode?"Update":"Create")}}var N=class e{constructor(i,t,o,s,d,x){this.fb=i;this.clientService=t;this.dialogRef=o;this.data=s;this.snackBar=d;this.countriesService=x;this.isEditMode=s.mode==="edit",this.clientForm=this.fb.group({name:["",[A.required,A.minLength(2)]],country:["",A.required],contactPerson:[""],contactTitle:[""],relationshipNature:["Good"],contactEmail:["",[A.email]],contactPhone:[""],address:[""]})}clientForm;loading=!1;isEditMode;countries=[];industries=["Technology","Healthcare","Finance","Manufacturing","Retail","Education","Construction","Transportation","Energy","Telecommunications","Media","Real Estate","Agriculture","Government","Non-Profit","Other"];ngOnInit(){this.loadCountries(),this.isEditMode&&this.data.client&&this.clientForm.patchValue({name:this.data.client.name,country:this.data.client.country,contactPerson:this.data.client.contactPerson,contactTitle:this.data.client.contactTitle,relationshipNature:this.data.client.relationshipNature,contactEmail:this.data.client.contactEmail,contactPhone:this.data.client.contactPhone,address:this.data.client.address})}loadCountries(){return g(this,null,function*(){this.countries=yield this.countriesService.getCountries()})}onCountryChange(i){if(i.target.value==="add-new"){this.openAddCountryDialog();let o=this.clientForm.get("country")?.value;this.clientForm.get("country")?.setValue(o==="add-new"?"":o)}}openAddCountryDialog(){return g(this,null,function*(){let i=prompt("Enter new country name:");i&&i.trim()!==""&&(yield this.countriesService.addCountry(i),yield this.loadCountries(),this.clientForm.get("country")?.setValue(i))})}onSubmit(){return g(this,null,function*(){if(this.clientForm.invalid)return;this.loading=!0;let i=this.clientForm.value;try{this.isEditMode&&this.data.client?(yield this.clientService.updateClient(this.data.client.id,i),this.snackBar.open("Client updated successfully","Close",{duration:3e3})):(yield this.clientService.createClient(i),this.snackBar.open("Client created successfully","Close",{duration:3e3})),this.dialogRef.close(!0)}catch{this.snackBar.open("Error saving client","Close",{duration:3e3})}finally{this.loading=!1}})}onCancel(){this.dialogRef.close(!1)}getTitle(){return this.isEditMode?"Edit Client":"Create New Client"}static \u0275fac=function(t){return new(t||e)(m(Pt),m(G),m(re),m(ae),m(q),m(T))};static \u0275cmp=M({type:e,selectors:[["app-client-form"]],decls:58,vars:10,consts:[[1,"client-form-dialog","bg-card","text-card-foreground","rounded-lg","shadow-lg"],[1,"p-6"],[1,"text-lg","font-semibold"],[1,"p-6","pt-0",3,"ngSubmit","formGroup"],[1,"grid","grid-cols-2","gap-x-4","gap-y-6"],[1,"col-span-2"],["for","name",1,"block","text-sm","font-medium","text-foreground","mb-1"],["id","name","type","text","formControlName","name","placeholder","Enter client name","required","",1,"flex","h-10","w-full","rounded-md","border","border-input","bg-background","px-3","py-2","text-sm","ring-offset-background","file:border-0","file:bg-transparent","file:text-sm","file:font-medium","placeholder:text-muted-foreground","focus-visible:outline-none","focus-visible:ring-2","focus-visible:ring-ring","focus-visible:ring-offset-2","disabled:cursor-not-allowed","disabled:opacity-50"],["class","text-xs text-destructive mt-1",4,"ngIf"],[1,"col-span-1"],["for","country",1,"block","text-sm","font-medium","text-foreground","mb-1"],["id","country","formControlName","country","required","",1,"flex","h-10","w-full","items-center","justify-between","rounded-md","border","border-input","bg-background","px-3","py-2","text-sm","ring-offset-background","placeholder:text-muted-foreground","focus:outline-none","focus:ring-2","focus:ring-ring","focus:ring-offset-2","disabled:cursor-not-allowed","disabled:opacity-50",3,"change"],[3,"value",4,"ngFor","ngForOf"],["value","add-new",1,"text-indigo-600","font-semibold"],["for","contactPerson",1,"block","text-sm","font-medium","text-foreground","mb-1"],["id","contactPerson","type","text","formControlName","contactPerson","placeholder","Enter contact person's name",1,"flex","h-10","w-full","rounded-md","border","border-input","bg-background","px-3","py-2","text-sm","ring-offset-background","file:border-0","file:bg-transparent","file:text-sm","file:font-medium","placeholder:text-muted-foreground","focus-visible:outline-none","focus-visible:ring-2","focus-visible:ring-ring","focus-visible:ring-offset-2","disabled:cursor-not-allowed","disabled:opacity-50"],["for","contactTitle",1,"block","text-sm","font-medium","text-foreground","mb-1"],["id","contactTitle","type","text","formControlName","contactTitle","placeholder","Enter contact person's title",1,"flex","h-10","w-full","rounded-md","border","border-input","bg-background","px-3","py-2","text-sm","ring-offset-background","file:border-0","file:bg-transparent","file:text-sm","file:font-medium","placeholder:text-muted-foreground","focus-visible:outline-none","focus-visible:ring-2","focus-visible:ring-ring","focus-visible:ring-offset-2","disabled:cursor-not-allowed","disabled:opacity-50"],["for","relationshipNature",1,"block","text-sm","font-medium","text-foreground","mb-1"],["id","relationshipNature","formControlName","relationshipNature",1,"flex","h-10","w-full","items-center","justify-between","rounded-md","border","border-input","bg-background","px-3","py-2","text-sm","ring-offset-background","placeholder:text-muted-foreground","focus:outline-none","focus:ring-2","focus:ring-ring","focus:ring-offset-2","disabled:cursor-not-allowed","disabled:opacity-50"],["value","Good"],["value","Mature"],["value","Needs Maintenance"],["value","Poor"],["for","contactEmail",1,"block","text-sm","font-medium","text-foreground","mb-1"],["id","contactEmail","type","email","formControlName","contactEmail","placeholder","email@company.com",1,"flex","h-10","w-full","rounded-md","border","border-input","bg-background","px-3","py-2","text-sm","ring-offset-background","file:border-0","file:bg-transparent","file:text-sm","file:font-medium","placeholder:text-muted-foreground","focus-visible:outline-none","focus-visible:ring-2","focus-visible:ring-ring","focus-visible:ring-offset-2","disabled:cursor-not-allowed","disabled:opacity-50"],["for","contactPhone",1,"block","text-sm","font-medium","text-foreground","mb-1"],["id","contactPhone","type","text","formControlName","contactPhone","placeholder","+1 (555) 123-4567",1,"flex","h-10","w-full","rounded-md","border","border-input","bg-background","px-3","py-2","text-sm","ring-offset-background","file:border-0","file:bg-transparent","file:text-sm","file:font-medium","placeholder:text-muted-foreground","focus-visible:outline-none","focus-visible:ring-2","focus-visible:ring-ring","focus-visible:ring-offset-2","disabled:cursor-not-allowed","disabled:opacity-50"],["for","address",1,"block","text-sm","font-medium","text-foreground","mb-1"],["id","address","formControlName","address","placeholder","Enter client address","rows","3",1,"flex","min-h-[80px]","w-full","rounded-md","border","border-input","bg-background","px-3","py-2","text-sm","ring-offset-background","placeholder:text-muted-foreground","focus-visible:outline-none","focus-visible:ring-2","focus-visible:ring-ring","focus-visible:ring-offset-2","disabled:cursor-not-allowed","disabled:opacity-50"],[1,"flex","justify-end","space-x-2","mt-6"],["type","button",1,"inline-flex","items-center","justify-center","whitespace-nowrap","rounded-md","text-sm","font-medium","ring-offset-background","transition-colors","focus-visible:outline-none","focus-visible:ring-2","focus-visible:ring-ring","focus-visible:ring-offset-2","disabled:pointer-events-none","disabled:opacity-50","border","border-input","bg-background","hover:bg-accent","hover:text-accent-foreground","h-10","px-4","py-2",3,"click","disabled"],["type","submit",1,"inline-flex","items-center","justify-center","whitespace-nowrap","rounded-md","text-sm","font-medium","ring-offset-background","transition-colors","focus-visible:outline-none","focus-visible:ring-2","focus-visible:ring-ring","focus-visible:ring-offset-2","disabled:pointer-events-none","disabled:opacity-50","bg-primary","text-primary-foreground","hover:bg-primary/90","h-10","px-4","py-2",3,"disabled"],[4,"ngIf"],[1,"text-xs","text-destructive","mt-1"],[3,"value"]],template:function(t,o){if(t&1&&(r(0,"div",0)(1,"div",1)(2,"h2",2),a(3),n()(),r(4,"form",3),_("ngSubmit",function(){return o.onSubmit()}),r(5,"div",4)(6,"div",5)(7,"label",6),a(8,"Name *"),n(),p(9,"input",7),f(10,Re,2,0,"p",8),n(),r(11,"div",9)(12,"label",10),a(13,"Country *"),n(),r(14,"select",11),_("change",function(d){return o.onCountryChange(d)}),f(15,He,2,2,"option",12),r(16,"option",13),a(17,"Add New Country..."),n()(),f(18,je,2,0,"p",8),n(),r(19,"div",9)(20,"label",14),a(21,"Contact Person"),n(),p(22,"input",15),n(),r(23,"div",9)(24,"label",16),a(25,"Contact Title"),n(),p(26,"input",17),n(),r(27,"div",5)(28,"label",18),a(29,"Nature of Relationship"),n(),r(30,"select",19)(31,"option",20),a(32,"Good"),n(),r(33,"option",21),a(34,"Mature"),n(),r(35,"option",22),a(36,"Needs Maintenance"),n(),r(37,"option",23),a(38,"Poor"),n()()(),r(39,"div",9)(40,"label",24),a(41,"Contact Email"),n(),p(42,"input",25),f(43,Ve,2,0,"p",8),n(),r(44,"div",9)(45,"label",26),a(46,"Contact Phone"),n(),p(47,"input",27),n(),r(48,"div",5)(49,"label",28),a(50,"Address"),n(),p(51,"textarea",29),n()(),r(52,"div",30)(53,"button",31),_("click",function(){return o.onCancel()}),a(54," Cancel "),n(),r(55,"button",32),f(56,Be,2,0,"span",33)(57,Le,2,1,"span",33),n()()()()),t&2){let s,d,x;l(3),v(o.getTitle()),l(),c("formGroup",o.clientForm),l(6),c("ngIf",((s=o.clientForm.get("name"))==null?null:s.hasError("required"))&&((s=o.clientForm.get("name"))==null?null:s.touched)),l(5),c("ngForOf",o.countries),l(3),c("ngIf",((d=o.clientForm.get("country"))==null?null:d.hasError("required"))&&((d=o.clientForm.get("country"))==null?null:d.touched)),l(25),c("ngIf",(x=o.clientForm.get("contactEmail"))==null?null:x.hasError("email")),l(10),c("disabled",o.loading),l(2),c("disabled",o.clientForm.invalid||o.loading),l(),c("ngIf",o.loading),l(),c("ngIf",!o.loading)}},dependencies:[B,L,yt,Y,$,St,Et,xt,wt,It,Mt,Dt],styles:[".client-form-dialog[_ngcontent-%COMP%]   .form-fields[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:16px;min-width:500px}.client-form-dialog[_ngcontent-%COMP%]   .form-row[_ngcontent-%COMP%]{display:flex;gap:16px;width:100%}.client-form-dialog[_ngcontent-%COMP%]   .full-width[_ngcontent-%COMP%]{width:100%}.client-form-dialog[_ngcontent-%COMP%]   .half-width[_ngcontent-%COMP%]{width:calc(50% - 8px)}.client-form-dialog[_ngcontent-%COMP%]   mat-dialog-content[_ngcontent-%COMP%]{padding:20px 24px;max-height:60vh;overflow-y:auto}.client-form-dialog[_ngcontent-%COMP%]   mat-dialog-actions[_ngcontent-%COMP%]{padding:16px 24px;gap:8px}"]})};function Ye(e,i){if(e&1&&(r(0,"option",22),a(1),n()),e&2){let t=i.$implicit;c("value",t),l(),v(t)}}function $e(e,i){e&1&&(r(0,"div",23),a(1," Loading clients... "),n())}function qe(e,i){e&1&&(r(0,"p"),a(1,"No clients found. Create your first client to get started."),n())}function Ge(e,i){e&1&&(r(0,"p"),a(1,"No clients match the current filters."),n())}function ze(e,i){if(e&1&&(r(0,"div",24),f(1,qe,2,0,"p",25)(2,Ge,2,0,"p",25),n()),e&2){let t=C();l(),c("ngIf",t.clients.length===0),l(),c("ngIf",t.clients.length>0)}}function Ue(e,i){e&1&&(r(0,"th",37),a(1,"Name"),n())}function Ke(e,i){if(e&1&&(r(0,"td",38),a(1),n()),e&2){let t=i.$implicit;l(),v(t.name)}}function We(e,i){e&1&&(r(0,"th",37),a(1,"Country"),n())}function Je(e,i){if(e&1&&(r(0,"td",38),a(1),n()),e&2){let t=i.$implicit;l(),v(t.country)}}function Qe(e,i){e&1&&(r(0,"th",37),a(1,"Industry"),n())}function Xe(e,i){if(e&1&&(r(0,"td",38),a(1),n()),e&2){let t=i.$implicit;l(),v(t.industry)}}function Ze(e,i){e&1&&(r(0,"th",39),a(1,"Contact Email"),n())}function ti(e,i){if(e&1&&(r(0,"td",38),a(1),n()),e&2){let t=i.$implicit;l(),v(t.contactEmail||"-")}}function ei(e,i){e&1&&(r(0,"th",39),a(1,"Actions"),n())}function ii(e,i){if(e&1){let t=V();r(0,"td",38)(1,"button",40),_("click",function(){let s=D(t).$implicit,d=C(2);return E(d.openEditDialog(s))}),r(2,"mat-icon"),a(3,"edit"),n()(),r(4,"button",41),_("click",function(){let s=D(t).$implicit,d=C(2);return E(d.deleteClient(s))}),r(5,"mat-icon"),a(6,"delete"),n()()()}}function ni(e,i){e&1&&p(0,"tr",42)}function oi(e,i){e&1&&p(0,"tr",43)}function ri(e,i){if(e&1&&(r(0,"table",26),I(1,27),f(2,Ue,2,0,"th",28)(3,Ke,2,1,"td",29),P(),I(4,30),f(5,We,2,0,"th",28)(6,Je,2,1,"td",29),P(),I(7,31),f(8,Qe,2,0,"th",28)(9,Xe,2,1,"td",29),P(),I(10,32),f(11,Ze,2,0,"th",33)(12,ti,2,1,"td",29),P(),I(13,34),f(14,ei,2,0,"th",33)(15,ii,7,0,"td",29),P(),f(16,ni,1,0,"tr",35)(17,oi,1,0,"tr",36),n()),e&2){let t=C();c("dataSource",t.filteredClients),l(16),c("matHeaderRowDef",t.displayedColumns),l(),c("matRowDefColumns",t.displayedColumns)}}var K=class e{constructor(i,t,o,s){this.clientService=i;this.countriesService=t;this.dialog=o;this.snackBar=s}clients=[];filteredClients=[];displayedColumns=["name","country","contactEmail","actions"];loading=!1;countries=[];selectedCountry="";ngOnInit(){this.loadClients()}loadClients(){return g(this,null,function*(){this.loading=!0;try{this.clients=yield this.clientService.getClients(),this.filteredClients=[...this.clients],yield this.loadCountries()}catch{this.snackBar.open("Error loading clients","Close",{duration:3e3})}finally{this.loading=!1}})}loadCountries(){return g(this,null,function*(){try{this.countries=yield this.countriesService.getCountries()}catch{this.snackBar.open("Error loading countries","Close",{duration:3e3})}})}applyFilters(){this.filteredClients=this.clients.filter(i=>!this.selectedCountry||i.country===this.selectedCountry)}clearFilters(){this.selectedCountry="",this.filteredClients=[...this.clients]}openCreateDialog(){this.dialog.open(N,{width:"600px",data:{client:null,mode:"create"}}).afterClosed().subscribe(t=>{t&&this.loadClients()})}openEditDialog(i){this.dialog.open(N,{width:"600px",data:{client:i,mode:"edit"}}).afterClosed().subscribe(o=>{o&&this.loadClients()})}deleteClient(i){return g(this,null,function*(){if(confirm(`Are you sure you want to delete "${i.name}"?`))try{yield this.clientService.deleteClient(i.id),this.snackBar.open("Client deleted successfully","Close",{duration:3e3}),this.loadClients()}catch(t){this.snackBar.open(t.message||"Error deleting client","Close",{duration:3e3})}})}static \u0275fac=function(t){return new(t||e)(m(G),m(T),m(se),m(q))};static \u0275cmp=M({type:e,selectors:[["app-client-list"]],decls:33,vars:4,consts:[[1,"client-management"],[1,"page-header"],[1,"spacer"],["mat-raised-button","","color","primary",3,"click"],[1,"client-filters","bg-card","text-card-foreground","rounded-lg","shadow-md","p-4","flex","items-center","space-x-4"],[1,"flex","flex-col"],["for","clientName",1,"text-sm","font-medium","text-foreground","mb-1"],[1,"relative"],[1,"absolute","inset-y-0","left-0","flex","items-center","pl-3"],["xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-5","w-5","text-muted-foreground"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2v6m-6-6h6m6 0h-6m6 0v6m-6-6v6"],["id","clientName","type","text","placeholder","Search by name...",1,"pl-10","pr-4","py-2","w-full","rounded-md","border","border-input","bg-background","text-sm","focus:ring-2","focus:ring-ring","focus:ring-offset-2"],["for","country",1,"text-sm","font-medium","text-foreground","mb-1"],["id","country",1,"py-2","px-3","w-full","rounded-md","border","border-input","bg-background","text-sm","focus:ring-2","focus:ring-ring","focus:ring-offset-2"],["value","all"],[3,"value",4,"ngFor","ngForOf"],[1,"ml-auto"],["type","button",1,"px-4","py-2","rounded-md","border","border-input","bg-background","hover:bg-accent","hover:text-accent-foreground","text-sm","font-medium","focus:ring-2","focus:ring-ring","focus:ring-offset-2"],[1,"table-card"],["class","loading-container",4,"ngIf"],["class","empty-state",4,"ngIf"],["mat-table","","matSort","",3,"dataSource",4,"ngIf"],[3,"value"],[1,"loading-container"],[1,"empty-state"],[4,"ngIf"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","country"],["matColumnDef","industry"],["matColumnDef","contactEmail"],["mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-cell",""],["mat-icon-button","","color","primary","matTooltip","Edit",3,"click"],["mat-icon-button","","color","warn","matTooltip","Delete",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,o){t&1&&(r(0,"div",0)(1,"mat-toolbar",1)(2,"h2"),a(3,"Client Management"),n(),p(4,"span",2),r(5,"button",3),_("click",function(){return o.openCreateDialog()}),r(6,"mat-icon"),a(7,"add"),n(),a(8," Add Client "),n()(),r(9,"div",4)(10,"div",5)(11,"label",6),a(12,"Filter by Client Name"),n(),r(13,"div",7)(14,"span",8),dt(),r(15,"svg",9),p(16,"path",10),n()(),mt(),p(17,"input",11),n()(),r(18,"div",5)(19,"label",12),a(20,"Filter by Country"),n(),r(21,"select",13)(22,"option",14),a(23,"All Countries"),n(),f(24,Ye,2,2,"option",15),n()(),r(25,"div",16)(26,"button",17),a(27," Clear Filters "),n()()(),r(28,"mat-card",18)(29,"mat-card-content"),f(30,$e,2,0,"div",19)(31,ze,3,2,"div",20)(32,ri,18,3,"table",21),n()()()),t&2&&(l(24),c("ngForOf",o.countries),l(6),c("ngIf",o.loading),l(),c("ngIf",!o.loading&&o.filteredClients.length===0),l(),c("ngIf",!o.loading&&o.filteredClients.length>0))},dependencies:[B,L,Y,$,Vt,Lt,Gt,Yt,Bt,zt,$t,qt,Ut,Kt,Jt,Qt,Zt,de,ue,fe,tt,_e],styles:[".client-management[_ngcontent-%COMP%]{padding:20px}.client-management[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]{margin-bottom:20px;background-color:#f5f5f5}.client-management[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   .spacer[_ngcontent-%COMP%]{flex:1 1 auto}.client-management[_ngcontent-%COMP%]   .filter-card[_ngcontent-%COMP%]{margin-bottom:20px}.client-management[_ngcontent-%COMP%]   .filter-card[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]{display:flex;gap:16px;align-items:center;flex-wrap:wrap}.client-management[_ngcontent-%COMP%]   .filter-card[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{min-width:200px}.client-management[_ngcontent-%COMP%]   .filter-card[_ngcontent-%COMP%]   .filter-container[_ngcontent-%COMP%]   .clear-filters[_ngcontent-%COMP%]{margin-top:8px}.client-management[_ngcontent-%COMP%]   .table-card[_ngcontent-%COMP%]{margin-bottom:20px}.client-management[_ngcontent-%COMP%]   .loading-container[_ngcontent-%COMP%]{text-align:center;padding:40px;font-style:italic;color:#666}.client-management[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]{text-align:center;padding:40px;color:#666}.client-management[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.client-management[_ngcontent-%COMP%]   .mat-column-actions[_ngcontent-%COMP%]{width:120px;text-align:center}"]})};var be=class e{static \u0275fac=function(t){return new(t||e)};static \u0275mod=j({type:e});static \u0275inj=H({imports:[bt,Ot,vt.forChild([{path:"",component:K}]),Wt,Xt,te,ne,oe,he,le,ce,me,pe,Ce]})};export{be as ClientManagementModule};
